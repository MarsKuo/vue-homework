import{o as n,c as a,a as t,t as l,F as p,b as v,f as _,r as m,i as x,h as k,j as b}from"./index-DmXmknLh.js";const w=["value"],q={__name:"CartItem",props:["item"],emits:["updateCart","removeFromCart"],setup(r,{emit:h}){const o=h;return(e,c)=>(n(),a("tr",null,[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:c[0]||(c[0]=d=>o("removeFromCart",r.item.id))},"x")]),t("td",null,l(r.item.name),1),t("td",null,[t("small",null,l(r.item.description),1)]),t("td",null,[t("select",{class:"form-select",onChange:c[1]||(c[1]=d=>o("updateCart",r.item))},[(n(),a(p,null,v(10,d=>t("option",{key:d,value:d},l(d),9,w)),64))],32)]),t("td",null,l(r.item.price),1),t("td",null,l(r.item.price*r.item.quantity),1)]))}},F={class:"card"},B={class:"card-body"},T={class:"card-title"},V={class:"table"},j={class:"text-end"},D={class:"text-end"},N={__name:"OrderItem",props:["order"],setup(r){return(h,o)=>(n(),a("div",F,[t("div",B,[t("div",T,[o[3]||(o[3]=t("h5",null,"訂單",-1)),t("table",V,[o[0]||(o[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(n(!0),a(p,null,v(r.order.cart,e=>(n(),a("tr",{key:e.id},[t("td",null,l(e.name),1),t("td",null,l(e.quantity),1),t("td",null,l(e.price*e.quantity),1)]))),128))])]),t("div",j,[o[1]||(o[1]=_("備註: ")),t("span",null,l(r.order.description),1)]),t("div",D,[t("h5",null,[o[2]||(o[2]=_("總計: ")),t("span",null,"$ "+l(r.order.sum),1)])])])])]))}},O={id:"root"},Q={class:"container mt-5"},E={class:"row"},I={class:"col-md-4"},L={class:"list-group"},R=["onClick"],S={class:"d-flex w-100 justify-content-between"},U={class:"mb-1"},W={class:"mb-1"},z={class:"col-md-8"},A={class:"table"},G={key:0,class:"alert alert-primary text-center",role:"alert"},H={class:"text-end mb-3"},J={class:"row justify-content-center"},K={class:"col-8"},M={key:0,class:"alert alert-secondary text-center",role:"alert"},Y={__name:"Week3View",setup(r){const o=m([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),e=m([]),c=m({}),d=m(""),C=i=>{console.log(i),e.value.push({...i,id:new Date().getTime(),quantity:1}),console.log(e.value)},y=x(()=>e.value.reduce((i,s)=>i+s.price*s.quantity,0)),$=i=>{console.log(i),e.value=e.value.map(s=>{if(s.id===i.id)s.quantity=parseInt(i.quantity);else return s})},f=i=>{console.log(i),console.log(e.value),e.value=e.value.filter(s=>s.id!==i)},g=()=>{c.value={id:new Date().getTime(),cart:e.value,description:d.value,sum:y.value,note:""},e.value=[],d.value=""};return(i,s)=>(n(),a("div",O,[t("div",Q,[t("div",E,[t("div",I,[t("div",L,[(n(!0),a(p,null,v(o.value,u=>(n(),a("a",{href:"#",class:"list-group-item list-group-item-action",key:u.id,onClick:P=>C(u)},[t("div",S,[t("h5",U,l(u.name),1),t("small",null,l(`$${u.price}`),1)]),t("p",W,l(u.description),1)],8,R))),128))])]),t("div",z,[t("table",A,[s[0]||(s[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(n(!0),a(p,null,v(e.value,u=>(n(),b(q,{key:u.id,item:u,onRemoveFromCart:f,onUpdateCart:$},null,8,["item"]))),128))])]),e.value.length===0?(n(),a("div",G," 請選擇商品 ")):k("",!0),t("div",H,[t("h5",null,[s[1]||(s[1]=_("總計: ")),t("span",null,"$ "+l(y.value),1)])]),s[2]||(s[2]=t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註"},null,-1)),t("div",{class:"text-end"},[t("button",{class:"btn btn-primary",onClick:g},"送出")])])]),s[3]||(s[3]=t("hr",null,null,-1)),t("div",J,[t("div",K,[c.value.id?(n(),b(N,{key:1,class:"card",order:c.value},null,8,["order"])):(n(),a("div",M," 尚未建立訂單 "))])])])]))}};export{Y as default};
